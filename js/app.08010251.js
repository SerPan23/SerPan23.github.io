(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],m=0,d=[];m<o.length;m++)r=o[m],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},a={app:0},i=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("85ec"),a=s.n(n);a.a},"05fd":function(t,e,s){"use strict";var n=s("7c75"),a=s.n(n);a.a},"1e4d":function(t,e,s){"use strict";var n=s("52a8"),a=s.n(n);a.a},3491:function(t,e,s){"use strict";var n=s("c3a6"),a=s.n(n);a.a},"3c01":function(t,e,s){},"52a8":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("fb6a"),s("ac1f"),s("466d"),s("5319"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=s("8c4f"),i=s("2f62"),r={state:{name:"",number:"",certificate:"",phone:"",site:"",address:"",full_name_responsible_person:"",email:void 0,role:"",SessionID:"",serverIp:"https://vova-489375f3.localhost.run"},mutations:{GET_USER_EMAIL:function(t,e){t.email=e},GET_USER_SESSIONID:function(t,e){t.SessionID=e},GET_USER_ROLE:function(t,e){t.role=e}},getters:{email:function(t){return t.email},SessionID:function(t){return t.SessionID},role:function(t){return t.role}}},o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{height:"100% !important"},attrs:{id:"app"}},[s("nav-bar"),s("router-view")],1)},l=[],c=(s("4d63"),s("25f0"),s("5530")),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-light  fixed-top navStyle"},[s("router-link",{staticClass:"router-link",attrs:{to:"/"}},[s("a",{ref:"home",staticClass:"navbar-brand",staticStyle:{color:"#303f9f"}},[t._v("Дари улыбку")])]),s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:function(e){return t.animate_toggler()}}},[t._m(0)]),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"},on:{click:function(e){return t.animate_navbar()}}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"router-link",attrs:{to:"/market"}},[s("a",{staticClass:"nav-link"},[t._v("Помочь")])])],1)]),s("router-link",{staticClass:"router-link login ml-auto",staticStyle:{display:"block"},attrs:{to:"/login"}},[s("a",{staticClass:"btn btn-rounded-blue btn-lg",attrs:{type:"button"}},[t._v(t._s(t.loginText))])]),s("div",{staticClass:"dropdown person_menu",staticStyle:{display:"none"}},[s("button",{staticClass:"btn btn-rounded-blue dropdown-toggle user",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" "+t._s(t.loginText)+" ")]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("router-link",{staticClass:"dropdown-item router-link login ml-auto",attrs:{to:"/profile"}},[t._v("Профиль")]),s("div",{staticClass:"dropdown-divider"}),s("button",{staticClass:"dropdown-item exit personMenuDrop",on:{click:function(e){return t.exit()}}},[t._v("Выйти")])],1)])],1)],1)},m=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"anim-bar-dark anim-2"},[s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"})])}],d=(s("b0c0"),s("d3b7"),s("3d20")),p=s.n(d),f={name:"navbar",data:function(){return{loginText:"Войти",role:""}},beforeMount:function(){var t=this;void 0!=this.$store.getters.email&&fetch(this.$store.state.serverIp+"/get_information",{method:"POST",body:JSON.stringify({email:this.$store.getters.email,session_id:this.$store.getters.SessionID})}).then((function(t){return t.json()})).then((function(e){"310"==e&&(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="role=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()),void 0!=t.$store.state.email&&(t.loginText=t.$store.state.email,t.role=t.$store.state.role,"fund"==t.role?(t.$store.state.name=e.name,t.$store.state.number=e.number,t.$store.state.certificate=e.certificate,t.$store.state.phone=e.phone,t.$store.state.site=e.site,t.$store.state.address=e.address):"business"==t.role&&(t.$store.state.name=e.name,t.$store.state.full_name_responsible_person=e.full_name_responsible_person,t.$store.state.phone=e.phone),document.querySelector(".login").style.display="none",document.querySelector(".person_menu").style.display="block")})).catch((function(t){console.log(t),p.a.fire({icon:"error",title:"На сервере проходят технические работы, приносим свои извинения за доставленные неудобства",allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1})}))},methods:{exit:function(){document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="role=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload(),document.location.href="/login"},animate_navbar:function(){0==event.target.classList.contains("useful")&&0==event.target.classList.contains("user")&&(document.querySelector(".navbar-collapse").classList.remove("show"),document.querySelector(".navbar-toggler").classList.remove("active"))},animate_toggler:function(){document.querySelector(".navbar-toggler").classList.toggle("active")}}},v=f,_=(s("05fd"),s("2877")),h=Object(_["a"])(v,u,m,!1,null,"2aa4516d",null),g=h.exports,b={name:"App",components:{NavBar:g},computed:Object(c["a"])({},Object(i["b"])(["email","SessionID"])),beforeCreate:function(){this.$store.commit("GET_USER_EMAIL",y("email")),this.$store.commit("GET_USER_SESSIONID",y("SessionID")),this.$store.commit("GET_USER_ROLE",y("role"))}};function y(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()[]\/+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}var C=b,w=(s("034f"),Object(_["a"])(C,o,l,!1,null,null,null)),x=w.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("main",[t._m(0),t._m(1),s("div",{staticClass:"newsblock container-md mt-md-5 mt-3"},[s("div",{staticClass:"blockname mb-3",staticStyle:{"margin-left":"15px"}},[t._v("Новости")]),s("div",{staticClass:"row",staticStyle:{margin:"0px"}},t._l(t.news,(function(e){return s("div",{key:e.id,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3 mb-2"},[t._m(2,!0)])})),0)]),t._m(3)])])},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header text-center mb-4"},[s("h2",[t._v("Есть проект, но нет средств?")]),s("p",[s("a",{staticClass:"btn btn-indigo",attrs:{href:"/add-project"}},[t._v("Предложить свой проект")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"welcome"},[s("h3",[t._v("Рады видеть вас на нашей платформе!")]),s("p",{staticStyle:{"margin-bottom":"0px","font-size":"1.1em"}},[t._v(" Здесь НКО могут разместить свои проекты и найти партенеров, а коммерческие организации могут стать благотварителями. ")]),s("p",{staticStyle:{"font-size":"1.1em"}},[t._v(" Предлагаем вам пройти краткое обучение для ознакомления с возможностями ")]),s("div",{staticClass:"row justify-content-between",staticStyle:{margin:"0px"}},[s("div",{staticClass:"col-12 col-md-6 mb-2"},[s("a",{staticClass:"btn btn-indigo",attrs:{href:"#"}},[t._v("Мы НКО")])]),s("div",{staticClass:"col-12 col-md-6 mb-2"},[s("a",{staticClass:"btn btn-indigo",attrs:{href:"#"}},[t._v("Мы Коммерческая организация")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"news"},[s("div",{staticClass:"date"},[s("small",[t._v("6 февраля 2021г.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contactblock container-md mt-md-3 mt-2"},[s("div",{staticClass:"blockname mb-3",staticStyle:{"margin-left":"15px"}},[t._v("Контакты")]),s("p",[t._v("Email: example@example.com")]),s("p",[t._v("Телефон: +7 777 777-7777")])])}],E={name:"main_page",data:function(){return{news:[1,2,3,4,5]}}},I=E,k=(s("8466"),Object(_["a"])(I,S,$,!1,null,"4761bdd2",null)),T=k.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"container warp"},[s("div",{staticClass:"formbox"},[s("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[s("h2",[t._v("Войти")]),t._m(0),t._m(1),s("div",{staticClass:"form-label-group input-group"},[s("input",{staticClass:"form-control formInput",attrs:{type:"password",id:"password",name:"password"}}),s("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.showHidePwd()}}},[t._m(2)])]),s("div",{staticClass:"form-row"},[s("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.loginUser()}}},[t._v("Войти")])])]),t._v(" "),s("br"),s("p",{staticStyle:{"text-align":"left","font-size":"1em","padding-left":"10px"}},[s("router-link",{staticClass:"router-link",attrs:{to:"/registration"}},[t._v("Нет аккаунта?")])],1)])]),s("div",{staticClass:"footer"},[s("Footer")],1)])},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group",staticStyle:{"text-align":"left"}},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Почта")]),s("input",{staticClass:"form-control formInput",attrs:{name:"text",id:"email"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"text-align":"left"}},[s("label",{attrs:{for:"password"}},[t._v("Пароль")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"input-group-text showHidePwd"},[s("i",{staticClass:"far fa-eye-slash",attrs:{id:"eye"}})])}],D=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},M=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("footer")])}],J={name:"Footer"},G=J,P=(s("3491"),Object(_["a"])(G,D,M,!1,null,"2b44a9fa",null)),z=P.exports,N={name:"login",components:{Footer:z},beforeMount:function(){void 0!=this.store.state.email&&(document.location.href="/profile")},methods:{loginUser:function(){event.preventDefault();var t=document.forms[0],e=t.elements.email.value,s=t.elements.password.value;fetch(this.$store.state.serverIp+"/login/",{method:"POST",body:JSON.stringify({email:e,password:s})}).then((function(t){return t.json()})).then((function(t){"incorrect_password"==t?p.a.fire({icon:"error",text:"Неверный логин или пароль"}):"incorrect_email"==t?p.a.fire({icon:"error",text:"Пользователь не найден"}):void 0!=t.session_id&&(document.cookie="email="+e+"; expires="+new Date(Date.now()+864e6).toUTCString(),document.cookie="SessionID="+t.session_id+"; expires="+new Date(Date.now()+864e6).toUTCString(),document.cookie="role="+t.role+"; expires="+new Date(Date.now()+864e6).toUTCString(),window.location.href="/profile")})).catch((function(t){p.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)}))},showHidePwd:function(){var t=document.getElementById("password");"password"===t.type?(t.type="text",document.getElementById("eye").className="far fa-eye"):(t.type="password",document.getElementById("eye").className="far fa-eye-slash")}}},U=N,B=(s("93b1"),Object(_["a"])(U,j,O,!1,null,"36675718",null)),R=B.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"container warp"},[-1==t.type_reg?s("div",{staticClass:"formbox mb-5",staticStyle:{"margin-top":"200px","min-height":"107px"}},[s("div",{staticClass:"row",staticStyle:{margin:"0px"}},[s("div",{staticClass:"col-12 col-md-6",staticStyle:{padding:"3px"}},[s("button",{staticClass:"btn btn-indigo",staticStyle:{width:"100%"},on:{click:function(e){t.type_reg=0}}},[t._v("Регистрации для НКО")])]),s("div",{staticClass:"col-12 col-md-6",staticStyle:{padding:"3px"}},[s("button",{staticClass:"btn btn-indigo",staticStyle:{width:"100%"},on:{click:function(e){t.type_reg=1}}},[t._v("Регистрации для бизнеса")])])])]):0==t.type_reg?s("div",{staticClass:"formbox mb-5"},[s("form",[s("h2",{staticClass:"text-center"},[t._v("Форма регистрации для НКО")]),0==t.reg?s("div",{staticClass:"text-left"},[t._v("Пожалуйста, заполните форму и внимательно ознакомьтесь с Условиями пользования платформой. Поля со звездочкой("),s("span",{staticClass:"star"},[t._v("*")]),t._v(") обязательны к заполнению.")]):t._e(),s("br"),0==t.reg?s("div",[t._m(0),t._m(1),t._m(2),t._m(3),s("div",{staticClass:"form-group row"},[t._m(4),s("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"form-control formInput",attrs:{type:"tel",name:"phone"}})]),t._m(5),t._m(6),t._m(7),t._m(8),s("div",{staticClass:"row"},[s("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.code()}}},[t._v("Отправить")])])]):s("div",[t._m(9),s("div",{staticClass:"row"},[s("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.registration()}}},[t._v("Зарегистрироваться")])])])]),t._v(" "),s("br")]):1==t.type_reg?s("div",{staticClass:"formbox mb-5 mt-lg-3"},[s("form",[s("h2",{staticClass:"text-center"},[t._v("Форма регистрации для бизнеса")]),0==t.reg?s("div",{staticClass:"text-left"},[t._v("Пожалуйста, заполните форму и внимательно ознакомьтесь с Условиями пользования платформой. Поля со звездочкой("),s("span",{staticClass:"star"},[t._v("*")]),t._v(") обязательны к заполнению.")]):t._e(),s("br"),0==t.reg?s("div",[t._m(10),t._m(11),t._m(12),s("div",{staticClass:"form-group row"},[t._m(13),s("input",{directives:[{name:"phone",rawName:"v-phone"}],staticClass:"form-control formInput",attrs:{type:"tel",name:"phone"}})]),t._m(14),t._m(15),s("div",{staticClass:"row"},[s("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.code()}}},[t._v("Отправить")])])]):s("div",[t._m(16),s("div",{staticClass:"row"},[s("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.registration()}}},[t._v("Зарегистрироваться")])])])]),t._v(" "),s("br")]):t._e()]),s("div",{staticClass:"footer"},[s("Footer")],1)])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Название фонда/НКО"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"text",name:"name"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Регистрационный номер"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"text",name:"number"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Свидетельство о регистрации"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"text",name:"certificate"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Адрес электронной почты"),s("span",{staticClass:"star"},[t._v("*")]),t._v(" (для связи)")]),s("input",{staticClass:"form-control formInput",attrs:{type:"email",name:"email"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Номер телефона"),s("span",{staticClass:"star"},[t._v("*")]),t._v(" (для связи)")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Адрес"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"text",name:"address"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Ссылка на сайт")]),s("input",{staticClass:"form-control formInput",attrs:{type:"text",name:"site"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Пароль"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"password",name:"password"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Повторите пароль"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"password",name:"password2"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Код подтверждения")]),s("input",{staticClass:"form-control formInput",attrs:{name:"code"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Название"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"text",name:"name"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("ФИО ответственного"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"text",name:"full_name_responsible_person"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Адрес электронной почты"),s("span",{staticClass:"star"},[t._v("*")]),t._v(" (для связи)")]),s("input",{staticClass:"form-control formInput",attrs:{type:"email",name:"email"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Номер телефона"),s("span",{staticClass:"star"},[t._v("*")]),t._v(" (для связи)")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Пароль"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"password",name:"password"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Повторите пароль"),s("span",{staticClass:"star"},[t._v("*")])]),s("input",{staticClass:"form-control formInput",attrs:{type:"password",name:"password2"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group row"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Код подтверждения")]),s("input",{staticClass:"form-control formInput",attrs:{name:"code"}})])}],q=(s("498a"),{name:"registration",components:{Footer:z},data:function(){return{reg:0,type_reg:-1,name:"",number:"",certificate:"",phone:"",address:"",site:"",email:"",full_name_responsible_person:"",password:""}},methods:{code:function(){var t=this;if(event.preventDefault(),0==this.type_reg){var e=document.forms[0],s=e.elements.name.value,n=e.elements.number.value,a=e.elements.certificate.value,i=e.elements.email.value.replace(/\s/g,""),r=e.elements.phone.value,o=e.elements.address.value,l=e.elements.site.value,c=e.elements.password.value,u=e.elements.password2.value;this.name=s,this.number=n,this.certificate=a,this.phone=r,this.address=o,this.site=l,this.email=i,this.password=c,""==s.trim()?this.$swal({icon:"warning",text:"Введите название фонда/НКО"}):""==n.trim()?this.$swal({icon:"warning",text:"Введите регистрационный номер"}):""==a.trim()?this.$swal({icon:"warning",text:"Введите свидетельство о регистрации"}):""==r.trim()?this.$swal({icon:"warning",text:"Введите номер телефона"}):""==o.trim()?this.$swal({icon:"warning",text:"Введите адрес"}):""==c.trim()?this.$swal({icon:"warning",text:"Введите пароль"}):c!=u?this.$swal({icon:"error",text:"Пароли не совпадают"}):fetch(this.$store.state.serverIp+"/reg-code/",{method:"POST",body:JSON.stringify({email:i})}).then((function(t){return t.json()})).then((function(e){"incorrect_email"==e?p.a.fire({icon:"error",text:"Пользователь с таким email уже существует"}):"send_code"==e&&(p.a.fire({icon:"success",text:"Код подтверждения отправлен Вам на почту"}),t.reg=1)})).catch((function(t){p.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)}))}else if(1==this.type_reg){var m=document.forms[0],d=m.elements.name.value,f=m.elements.full_name_responsible_person.value,v=m.elements.email.value.replace(/\s/g,""),_=m.elements.phone.value,h=m.elements.password.value,g=m.elements.password2.value;this.name=d,this.full_name_responsible_person=f,this.phone=_,this.email=v,this.password=h,""==d.trim()?this.$swal({icon:"warning",text:"Введите название компании"}):""==f.trim()?this.$swal({icon:"warning",text:"Введите ФИО ответственного"}):""==_.trim()?this.$swal({icon:"warning",text:"Введите номер телефона"}):""==h.trim()?this.$swal({icon:"warning",text:"Введите пароль"}):h!=g?this.$swal({icon:"error",text:"Пароли не совпадают"}):fetch(this.$store.state.serverIp+"/reg-code/",{method:"POST",body:JSON.stringify({email:v})}).then((function(t){return t.json()})).then((function(e){"incorrect_email"==e?p.a.fire({icon:"error",text:"Пользователь с таким email уже существует"}):"send_code"==e&&(p.a.fire({icon:"success",text:"Код подтверждения отправлен Вам на почту"}),t.reg=1)})).catch((function(t){p.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)}))}},registration:function(){event.preventDefault();var t=document.forms[0],e=t.elements.code.value;""==e.trim()?this.$swal({icon:"warning",text:"Введите код подтверждения с Вашей почты"}):0==this.type_reg?fetch(this.$store.state.serverIp+"/registration/",{method:"POST",body:JSON.stringify({name:this.name,number:this.number,certificate:this.certificate,phone:this.phone,address:this.address,site:this.site,email:this.email,password:this.password,role:"fund",code:e})}).then((function(t){return t.json()})).then((function(t){"incorrect_email"==t?p.a.fire({icon:"error",text:"Пользователь с таким email уже существует"}):"incorrect_code"==t?p.a.fire({icon:"error",text:"Неверный код подтверждения"}):"code_time_out"==t?p.a.fire({icon:"error",text:"Срок действия кода истек. Повторите попытку регистрации заново"}):"reg_in"==t&&(p.a.fire({icon:"success",text:"Регистрация прошла успешно",timer:1500}),setTimeout((function(){window.location.href="/login"}),1500))})).catch((function(t){p.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)})):1==this.type_reg&&fetch(this.$store.state.serverIp+"/registration/",{method:"POST",body:JSON.stringify({name:this.name,full_name_responsible_person:this.full_name_responsible_person,phone:this.phone,email:this.email,password:this.password,role:"business",code:e})}).then((function(t){return t.json()})).then((function(t){"incorrect_email"==t?p.a.fire({icon:"error",text:"Пользователь с таким email уже существует"}):"incorrect_code"==t?p.a.fire({icon:"error",text:"Неверный код подтверждения"}):"code_time_out"==t?p.a.fire({icon:"error",text:"Срок действия кода истек. Повторите попытку регистрации заново"}):"reg_in"==t&&(p.a.fire({icon:"success",text:"Регистрация прошла успешно",timer:1500}),setTimeout((function(){window.location.href="/login"}),1500))})).catch((function(t){p.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)}))}}}),A=q,H=(s("6741"),Object(_["a"])(A,L,F,!1,null,"77d17343",null)),K=H.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"container warp"},[n("h2",[t._v("Добавить проект")]),n("form",{staticClass:"formbox mb-5"},[n("div",{staticClass:"form-group row"},[t._m(0),n("input",{attrs:{type:"file",id:"image",accept:"image/*"},on:{input:function(e){return t.add_image()}}})]),n("div",{staticClass:"form-group row"},[t._m(1),n("input",{staticClass:"form-control formInput",attrs:{id:"city"},on:{input:function(e){return t.add_city()}}})]),n("div",{staticClass:"form-group row"},[t._m(2),n("input",{staticClass:"form-control formInput",attrs:{id:"title"},on:{input:function(e){return t.add_title()}}})]),n("div",{staticClass:"form-group row"},[t._m(3),n("input",{staticClass:"form-control formInput",attrs:{id:"help"},on:{input:function(e){return t.add_help()}}})]),n("div",{staticClass:"form-group row"},[t._m(4),n("input",{staticClass:"form-control formInput",attrs:{id:"money"},on:{input:function(e){return t.add_money()}}})]),n("div",{staticClass:"row"},[n("button",{staticClass:"btn btn-rounded-blue btn-lg",on:{click:function(e){return t.add_project()}}},[t._v("Добавить")])])])]),n("div",{staticClass:"col-12 col-md-6 col-lg-4 col-xl-3 block mb-2"},[n("strong",[t._v("Как выглядит карточка проекта")]),n("div",{staticClass:"project"},[n("div",{staticClass:"image"},[""!=t.image?n("img",{attrs:{src:t.image}}):n("img",{attrs:{src:s("f0e4")}})]),n("div",{staticClass:"info"},[n("p",{staticStyle:{color:"#999999"}},[n("small",[n("strong",[t._v(t._s(t.city))])])]),n("div",{staticStyle:{"text-align":"justify"}},[n("span",{staticStyle:{"font-size":"1.2em"}},[t._v(t._s(t.title))]),t._v(" "),n("br"),n("span",{staticStyle:{"font-size":"0.85em","font-weight":"600"}},[t._v("Вы можете помочь")]),t._v(" "),n("br"),n("span",{staticStyle:{"font-size":"0.85em"}},[t._v(t._s(t.help))])]),n("div",{staticStyle:{width:"95%",position:"absolute",bottom:"10px"}},[n("hr",{staticStyle:{margin:"3px"}}),n("div",{staticClass:"row",staticStyle:{margin:"0px","line-height":"22px","vertical-align":"baseline"}},[n("div",{staticClass:"col-12",staticStyle:{"font-size":"0.8em"}},[n("div",{staticStyle:{"text-align":"justify"}},[n("strong",[t._v("Цель "+t._s(t.money))])])])]),t._m(5)])])])])])},V=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Изображение"),s("span",{staticClass:"star"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Город"),s("span",{staticClass:"star"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Заголовок"),s("span",{staticClass:"star"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Чем нужно помочь"),s("span",{staticClass:"star"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Цена"),s("span",{staticClass:"star"},[t._v("*")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center",staticStyle:{margin:"0px",width:"100%"}},[s("div",{staticClass:"col-12 col-md-6",staticStyle:{padding:"3px"}},[s("button",{staticClass:"btn btn-indigo btn-almbb-small",staticStyle:{width:"100%"}},[t._v("Помочь")])]),s("div",{staticClass:"col-12 col-md-6",staticStyle:{padding:"3px"}},[s("button",{staticClass:"btn btn-indigo btn-almbb-small",staticStyle:{width:"100%"}},[t._v("Связаться")])])])}],W={name:"add_project",data:function(){return{image:"",city:"",title:"",help:"",money:""}},beforeMount:function(){void 0!=this.$store.getters.email&&"fund"==this.$store.state.role||(document.location.href="/login")},methods:{add_image:function(){var t=this,e=document.getElementById("image").files[0],s=new FileReader;s.readAsDataURL(e),s.onload=function(){t.image=s.result},s.onerror=function(t){p.a.fire({icon:"error",title:"Ошибка",showConfirmButton:!1,text:"Неожиданная ошибка. Пожалуйста, попробуйте еще раз",timer:2e3}),console.log("Error: ",t)}},add_city:function(){this.city=document.getElementById("city").value},add_title:function(){this.title=document.getElementById("title").value},add_help:function(){this.help=document.getElementById("help").value},add_money:function(){this.money=document.getElementById("money").value},add_project:function(){event.preventDefault(),""==this.image.trim()?p.a.fire({icon:"warning",text:"Загрузите картинку"}):""==this.city.trim()?p.a.fire({icon:"warning",text:"Введите город"}):""==this.title.trim()?p.a.fire({icon:"warning",text:"Введите заголовок"}):""==this.help.trim()?p.a.fire({icon:"warning",text:"Введите, чем нужно помочь"}):""==this.money.trim()?p.a.fire({icon:"warning",text:"Введите цену"}):fetch(this.$store.state.serverIp+"/add_project/",{method:"POST",body:JSON.stringify({email:this.$store.getters.email,session_id:this.$store.getters.SessionID,image:this.image,city:this.city,title:this.title,help:this.help,money:this.money})}).then((function(t){return t.json()})).then((function(t){"310"==t?(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="role=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()):"OK"==t&&(p.a.fire({icon:"success",text:"Проект успешно добавлен",timer:1500}),setTimeout((function(){window.location.href="/profile"}),1500))})).catch((function(t){p.a.fire({icon:"error",text:"Непредвиденная ошибка, повторите попытку позже"}),console.log(t)}))}}},X=W,Y=(s("6d42"),Object(_["a"])(X,Q,V,!1,null,"22ae30a4",null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("main",[t._m(0),s("div",{staticClass:"row justify-content-around",staticStyle:{margin:"0px"}},t._l(t.projects,(function(e){return s("div",{key:e.id,staticClass:"col-12 col-md-4-6 col-lg-4 col-xl-3"},[s("div",{staticClass:"project"},[s("div",{staticClass:"image"},[s("img",{attrs:{src:e.image}})]),s("div",{staticClass:"info"},[s("p",{staticStyle:{color:"#999999"}},[s("small",[s("strong",[t._v(t._s(e.city))])])]),s("div",{staticStyle:{"text-align":"justify"}},[s("span",{staticStyle:{"font-size":"1.2em"}},[t._v(t._s(e.title))]),t._v(" "),s("br"),s("span",{staticStyle:{"font-size":"0.85em","font-weight":"600"}},[t._v("Вы можете помочь")]),t._v(" "),s("br"),s("span",{staticStyle:{"font-size":"0.85em"}},[t._v(t._s(e.help))])]),s("div",{staticStyle:{width:"95%",position:"absolute",bottom:"10px"}},[s("hr",{staticStyle:{margin:"3px"}}),s("div",{staticClass:"row",staticStyle:{margin:"0px","line-height":"22px","vertical-align":"baseline"}},[s("div",{staticClass:"col-12",staticStyle:{"font-size":"0.8em"}},[s("div",{staticStyle:{"text-align":"justify"}},[s("strong",[t._v("Цель "+t._s(e.money))])])])]),t._m(1,!0)])])])])})),0)])])},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-around mb-3",staticStyle:{margin:"0px"}},[s("div",{staticClass:"col-5 col-lg-2 order-1"},[s("h3",{staticStyle:{margin:"0px",padding:"6px 0px"}},[t._v("Помочь")])]),s("div",{staticClass:"col-12 col-lg-8 categories order-3 order-lg-2"},[s("ul",[s("li",{staticClass:"active"},[t._v("Все")]),s("li",[t._v("Детям")]),s("li",[t._v("Взрослым")]),s("li",[t._v("Пожилым")]),s("li",[t._v("Животным")]),s("li",[t._v("Природе")])])]),s("div",{staticClass:"col-7 col-lg-2 order-2 order-lg-3"},[s("select",{staticClass:"form-control",attrs:{id:"exampleFormControlSelect1"}},[s("option",{attrs:{selected:""}},[t._v("Все города")]),s("option",[t._v("Москва")]),s("option",[t._v("Санкт-Петербург")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center",staticStyle:{margin:"0px",width:"100%"}},[s("div",{staticClass:"col-12 col-md-6",staticStyle:{padding:"3px"}},[s("button",{staticClass:"btn btn-indigo btn-almbb-small",staticStyle:{width:"100%"}},[t._v("Помочь")])]),s("div",{staticClass:"col-12 col-md-6",staticStyle:{padding:"3px"}},[s("button",{staticClass:"btn btn-indigo btn-almbb-small",staticStyle:{width:"100%"}},[t._v("Связаться")])])])}],st={name:"market",data:function(){return{projects:[]}},beforeMount:function(){var t=this;fetch(this.$store.state.serverIp+"/get_projects/",{method:"GET"}).then((function(t){return t.json()})).then((function(e){"310"==e?(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="role=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()):t.projects=e})).catch((function(t){console.log(t)}))}},nt=st,at=(s("1e4d"),Object(_["a"])(nt,tt,et,!1,null,"407d59b8",null)),it=at.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("main",[s("div",{staticClass:"row justify-content-center",staticStyle:{margin:"0px"}},[t._m(0),s("div",{staticClass:"col-2 col-md-1",staticStyle:{padding:"0px 5px"}},[s("button",{staticClass:"btn btn-almbb-danger btn-almbb-small",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.notexit()},click:function(e){return t.exit()}}},[s("i",{staticClass:"fas fa-sign-out-alt"})])])]),"fund"==this.$store.state.role?s("div",[s("div",{staticClass:"row justify-content-center",staticStyle:{margin:"0px"}},[s("div",{staticClass:"col-12 info"},[s("div",[t._v("Название фонда: "+t._s(this.$store.state.name))]),s("div",[t._v("Регистрационный номер: "+t._s(this.$store.state.number))]),s("div",[t._v("Свидетельство о регистрации: "+t._s(this.$store.state.certificate))]),s("div",[t._v("Адрес электорнной почты: "+t._s(this.$store.state.email))]),s("div",[t._v("Номер телефона: "+t._s(this.$store.state.phone))]),s("div",[t._v("Адрес: "+t._s(this.$store.state.address))]),s("div",[t._v("Ссылка на сайт: "+t._s(this.$store.state.site))])])]),s("hr"),s("div",{staticClass:"row justify-content-between",staticStyle:{margin:"0px"}},[s("div",{staticClass:"col-12 col-md-6 mt-1 mb-1"},[s("router-link",{staticClass:"btn btn-blue btn-almbb-small",attrs:{to:"/add-project"}},[t._v("Добавить новый проект")])],1),s("div",{staticClass:"col-12 col-md-6 mt-1 mb-1",staticStyle:{padding:"0px 5px"}},[s("router-link",{staticClass:"btn btn-blue btn-almbb-small",attrs:{to:"/profile"}},[t._v("Архив проектов")])],1)])]):t._e(),s("hr"),s("h3",[t._v("Текущие проекты")]),s("div",{staticClass:"row justify-content-left",staticStyle:{margin:"0px"}},t._l(t.projects,(function(e){return s("div",{key:e.id,staticClass:"col-12 col-md-4-6 col-lg-4 col-xl-3"},[s("div",{staticClass:"project"},[s("div",{staticClass:"image"},[s("img",{attrs:{src:e.image}})]),s("div",{staticClass:"info"},[s("p",{staticStyle:{color:"#999999"}},[s("small",[s("strong",[t._v(t._s(e.city))])])]),s("div",{staticStyle:{"text-align":"justify"}},[s("span",{staticStyle:{"font-size":"1.2em"}},[t._v(t._s(e.title))]),t._v(" "),s("br"),s("span",{staticStyle:{"font-size":"0.85em","font-weight":"600"}},[t._v("Вы можете помочь")]),t._v(" "),s("br"),s("span",{staticStyle:{"font-size":"0.85em"}},[t._v(t._s(e.help))])]),s("hr"),s("div",{staticClass:"row",staticStyle:{margin:"0px","line-height":"20px","vertical-align":"baseline"}},[s("div",{staticClass:"col-12",staticStyle:{"font-size":"0.8em"}},[s("div",{staticStyle:{"text-align":"justify"}},[s("strong",[t._v("Цель "+t._s(e.money))])])])])])])])})),0),"business"==this.$store.state.role?s("div",[s("div",{staticClass:"row justify-content-center",staticStyle:{margin:"0px"}},[s("div",{staticClass:"col-12 info"},[s("div",[t._v("Название компании: "+t._s(this.$store.state.name))]),s("div",[t._v("ФИО ответственного: "+t._s(this.$store.state.full_name_responsible_person))]),s("div",[t._v("Адрес электорнной почты: "+t._s(this.$store.state.email))]),s("div",[t._v("Номер телефона: "+t._s(this.$store.state.phone))])])]),s("hr"),s("h3",[t._v("Проекты, которым мы помогли")])]):t._e()])])},ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-10 col-md-11"},[s("h2",[t._v("Профиль")])])}],lt={name:"profile",data:function(){return{email:this.$store.getters.email,session_id:this.$store.getters.SessionID,projects:[]}},beforeMount:function(){var t=this;void 0==this.email&&(document.location.href="/login"),fetch(this.$store.state.serverIp+"/get_my_now_projects/",{method:"POST",body:JSON.stringify({email:this.$store.getters.email,session_id:this.$store.getters.SessionID})}).then((function(t){return t.json()})).then((function(e){"310"==e?(document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="role=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload()):t.projects=e})).catch((function(t){console.log(t)}))},methods:{exit:function(){document.cookie="email=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="SessionID=;expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie="role=;expires=Thu, 01 Jan 1970 00:00:01 GMT",window.location.reload(),document.location.href="/login"}}},ct=lt,ut=(s("e3a5"),Object(_["a"])(ct,rt,ot,!1,null,"079f387e",null)),mt=ut.exports;n["a"].config.productionTip=!1,n["a"].use(a["a"]),n["a"].use(i["a"]);var dt=[{path:"/",component:T},{path:"/login",component:R},{path:"/registration",component:K},{path:"/add-project",component:Z},{path:"/market",component:it},{path:"/profile",component:mt}],pt=new a["a"]({mode:"history",routes:dt}),ft=new i["a"].Store(r);new n["a"]({router:pt,store:ft,render:function(t){return t(x)}}).$mount("#app"),n["a"].directive("phone",{bind:function(t){function e(t){var e="",s=t.replace(/\D/g,"").match(/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,4})/);return e=s[2]||""===s[1]?s[3]?s[1]+"("+s[2]+") "+s[3]+(s[4]?"-"+s[4]:""):s[1]+s[2]:"8"===s[1]?s[1]:"8"+s[1],e}function s(t){var s=t.replace(/\D/g,""),n=s;return"7"===n.charAt(0)&&(n="8"+n.slice(1)),e(n)}t.oninput=function(t){t.isTrusted&&(this.value=e(this.value))},t.onpaste=function(){var e=this;setTimeout((function(){var n=t.value;e.value=s(n)}))}}})},6741:function(t,e,s){"use strict";var n=s("3c01"),a=s.n(n);a.a},"6d42":function(t,e,s){"use strict";var n=s("f775"),a=s.n(n);a.a},"72cf":function(t,e,s){},"7c75":function(t,e,s){},"7d89":function(t,e,s){},8466:function(t,e,s){"use strict";var n=s("92a2"),a=s.n(n);a.a},"85ec":function(t,e,s){},"92a2":function(t,e,s){},"93b1":function(t,e,s){"use strict";var n=s("72cf"),a=s.n(n);a.a},c3a6:function(t,e,s){},e3a5:function(t,e,s){"use strict";var n=s("7d89"),a=s.n(n);a.a},f0e4:function(t,e,s){t.exports=s.p+"img/no_image.90a7572e.png"},f775:function(t,e,s){}});
//# sourceMappingURL=app.08010251.js.map